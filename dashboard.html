<!DOCTYPE html>
<html>
  <head>
    <title>Learning Dashboard</title>
   <!-- <link rel="stylesheet" href="style.css" />-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.1"></script>

    
<!-- Font Awesome -->
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
  rel="stylesheet"
/>
<!-- Google Fonts -->
<link
  href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
  rel="stylesheet"
/>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Passion+One&display=swap" rel="stylesheet">
<!-- MDB -->
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.css"
  rel="stylesheet"
/>
  </head>
  
  <body style="background-color:orange; overflow-y: auto; padding: 20px;">
    <style>
     .card {
     
      display: flex;
        flex-direction: column;
        height: 100%;
     }

    .row {
      --mdb-gutter-x: 20px;
      --mdb-gutter-y: 0;
      margin-top: calc(var(--mdb-gutter-y)*-1);
      margin-right: calc(var(--mdb-gutter-x)*-0.5);
      margin-left: calc(var(--mdb-gutter-x)*-0.5);
    }

    .margin-top-10 {
        margin-top: 20px;
     }


      .equal-height {
  display: flex;
}

.equal-height .card {
  display: flex;
}

.equal-height .card-body {
  flex: 1;

}

.text-align-center {
  text-align:center;

}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Passion One', cursive;
}

      
    </style>


<div class="col-md-8">
        <div class="row">
          <h1 style="color:white;">Learning Dashboard</h1>
          </div>
          </div>

          <div class="card" style="background-image:url('img/passport2.png'); background-color: rgba(0, 0, 0, 0.3); ">
            <div class="card-body">
              <h5 class="chart-title"><i class="fas fa-plane fa-xs"></i>&nbsp;Your passport stamps</h5>
              <div class="row">
                <div class="progress" style="height: 20px; padding-left: 0 !important; border-radius:30px; background-color:#eefbfb;" >
                  <div id="progress-bar" class="progress-bar" role="progressbar" style="background-color: orange; padding-left: 0 !important; width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"><i class="fas fa-plane fa-xs" id="progress-icon" style="position: absolute; left: 0; font-size: 20px; margin-left: -10px; color:rgb(212, 137, 0); font-size:30px"></i> 
                            25%</div>
               
                </div>
                <div class="col-md-4 d-flex flex-column align-items-center ">
                  <div class="text-align-center">
                  <img id="image1" src="img/stamp_travel_novice.png" style="width:150px;">
                  <h4>Travel Novice</h4>
                  <p>You encountered > 20% of questions and are starting to get to know a country!</p>
                  <p style="color: lightslategrey; font-size:14px;">{44%} of learners have this stamp in their passport as well.</p>
                  <div class="btn btn-outline-success">NEW</div> 
                </div>
              </div>
          
                <div class="col-md-4 d-flex flex-column align-items-center" id="image2">
                  <div class="text-align-center">
                  <img src="img/stamp_adventurer.png" style="width:150px;" >
                  <h4>Adventurer</h4>
                  <p>You explored 50% of questions and have lots of knowledge about Germany!</p>
                  <p style="color: lightslategrey; font-size:14px;">{14%} of learners have this stamp in their passport as well.</p>
                  <div  class="btn btn-outline-secondary">TO BE UNLOCKED</div>
                </div>
                </div>
          
                <div class="col-md-4 d-flex flex-column align-items-center" id="image3">
                  <div class="text-align-center">
                  <img src="img/stamp_globetrotter.png" style="width:150px;">
                  <h4>Globetrotter</h4>
                  <p>You are a real expert on that country. What about visiting other countries as well?</p>
                  <p style="color: lightslategrey; font-size:14px;">{1.2%} of learners have this stamp in their passport as well.</p>
                  <div  class="btn btn-outline-secondary">TO BE UNLOCKED</div>
                </div>
              </div>
              </div>
            </div>
          </div>
          
  <div class="margin-top-10">
    <div class="row gap-10">
      <div class="col-md-6">
        <div class="card">
        <div class="card-body">
          <div class="chart-container">
            <h5 class="chart-title">Progress in your first week</h5>
            <canvas id="gameChart"></canvas>
          </div>
          <h6 style="padding-top:5%">Congratulations, you managed a {7}-day streak!</h6>
             <p style="color: lightslategrey; font-size:14px;">{45%} of learners have achieved a {7}-day streak as well.</p>
        </div>
      </div>
    </div>


      <div class="col-md-6">
        <div class="card">
        <div class="card-body">
          <h5 class="card-title">Overall player ranking</h5>
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Rank</th>
                <th scope="col">Name</th>
                <th scope="col">Overall Score</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">1</th>
                <td>{Mark}</td>
                <td>{50}</td>
              </tr>
              <tr>
                <th scope="row">2</th>
                <td>{Jacob}</td>
                <td>{30}</td>
              </tr>
              <tr>
                <th scope="row">3</th>
                <td>{Mia}</td>
                <td>{10}</td>
              </tr>
              <tr>
                <th scope="row">4</th>
                <td>{Lina}</td>
                <td>{5}</td>
              </tr>
              <tr>
                <th scope="row">5</th>
                <td>{Hans}</td>
                <td>{2}</td>
              </tr>
            </tbody>
          </table>
        </div>
    </div>
  </div>
</div>


<div class="row equal-height margin-top-10">
  <div class="col-md-8">
    <div class="card">
      <div class="card-body">
        <div class="row equal-height">
                    <div class="col-md-6">
                          <h5 class="card-title">Your competencies by categories</h5>
                        
                          <div class="chart-container">
                            <canvas id="skillsChartIndividual"></canvas>
                          </div>
                    </div>


                  <div class="col-md-6">
                        <h5 class="card-title">Average competencies by categories</h5>
                        <div class="chart-container">
                          <canvas id="skillsChart"></canvas>
                        </div>
                      </div>
              </div>
            </div>
          </div>
  </div>
          


  <div class="col-md-4">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Tasks by correctness</h5>
        <div class="chart-container">
          <canvas id="userChart"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="margin-top-10">
<div class="col-md-12">
<div class="card">
  <div class="card-body">
    <div class="row">
      <h5>Remember, learning doesn't end here</h5>
        <p>
By exploring the rich history, vocabulary, and cultural nuances of Germany, you've already taken a significant step towards expanding your understanding. Using our personalized recommendation tool helps you reinforce what you've learned and dives into more detailed aspects.
        </p>
      </div>
      <button type="button" class="btn btn-info" href="#feedback">See personalized recommendations</button>
      </div>
      </div>
      </div>
    </div>
    <script>

      // Load database into document
document.addEventListener("DOMContentLoaded", function () {

  //
        document.querySelector(".username").innerText =
          "Username: " + localStorage.getItem("username");
      });

      // Generate placeholder data for the game chart
      var gameLabels = ["Day 1", "Day 2", "Day 3", "Day 4", "Day 5", "Day 6", "Day 7"];
      var gameScores = [5, 10, 15, 20, 32, 8, 2];

      // Create a bar chart for the game scores
      var gameCtx = document.getElementById("gameChart").getContext("2d");
      new Chart(gameCtx, {
        type: "line",
        data: {
          labels: gameLabels,
          datasets: [
            {
              label: "Answered Questions",
              data: gameScores,
              backgroundColor: "rgba(75, 192, 192, 0.2)",
              borderColor: "rgba(75, 192, 192, 1)",
              borderWidth: 1,
            },
          ],
        },
        options: {
          scales: {
            y: {
              beginAtZero: true,
            },
          },
        },
      });


   

      // Generate placeholder data for the skills chart
      var skillsLabels = [
        "Vocabulary",
        "Geography",
        "Culture",
        "Facts",
        "History",
      ];
      var skillsScores = [10, 15, 20, 6, 3];

      
// Create a radar chart for student skills
var skillsCtx = document.getElementById("skillsChart").getContext("2d");
new Chart(skillsCtx, {
  type: "radar",
  data: {
    labels: skillsLabels,
    datasets: [
      {
        label: "Other Students' Skills",
        data: skillsScores,
        backgroundColor: "rgb(255,170,102, 0.2)",
        borderColor: "orange",
        borderWidth: 1,
      },
    ],
  },
  options: {
    plugins: {
      tooltip: {
        callbacks: {


label: function (context) {
  var label = context.dataset.label || "";
  var value = context.dataset.data[context.dataIndex];

  if (label) {
    label += ": ";
  }
  label += value !== undefined ? value + "%" : "";

  return label;
},
        },
      },
    },
    scales: {
      r: {
        suggestedMin: 0,
        suggestedMax: 100,
        ticks: {
          callback: function (value) {
            return value + "%"; // Add percent sign to the ticks on the scale
          },
        },
      },
    },
  },
});



            // Generate placeholder data for the skills chart
      var skillsLabels = [
        "Vocabulary",
        "Geography",
        "Culture",
        "Facts",
        "History",
      ];
      var skillsScores = [10, 15, 20, 6, 3];

// Create a radar chart for student skills
var skillsCtxInd = document.getElementById("skillsChartIndividual").getContext("2d");
new Chart(skillsCtxInd, {
  type: "radar",
  data: {
    labels: skillsLabels,
    datasets: [
      {
        label: "Your Skills",
        data: skillsScores,
        backgroundColor: "rgba(54, 162, 235, 0.2)",
        borderColor: "rgba(54, 162, 235, 1)",
        borderWidth: 1,
      },
    ],
  },
  options: {
    plugins: {
      tooltip: {
        callbacks: {


label: function (context) {
  var label = context.dataset.label || "";
  var value = context.dataset.data[context.dataIndex];

  if (label) {
    label += ": ";
  }
  label += value !== undefined ? value + "%" : "";

  return label;
},

        
        },
      },
    },
    scales: {
      r: {
        suggestedMin: 0,
        suggestedMax: 100,
        ticks: {
          callback: function (value) {
            return value + "%"; // Add percent sign to the ticks on the scale
          },
        },
      },
    },
  },
});

    
  var progressBar = document.getElementById("progress-bar");
  var image2 = document.getElementById("image2");
  var image3 = document.getElementById("image3");

  // Function to update the opacity of images based on progress
  function updateImageOpacity() {
    var progress = parseInt(progressBar.style.width);
    if (progress <= 50) {
      image2.style.opacity = "0.3";
      image3.style.opacity = "0.3";
    } else {
      image2.style.opacity = "1";
      image3.style.opacity = "1";
    }
  }

  // Call the function initially
  updateImageOpacity();

  // Call the function whenever the progress bar width changes
  progressBar.addEventListener("transitionend", updateImageOpacity);


   // Generate placeholder data for the skills chart
   var skillsLabels = [
        "Vocabulary",
        "Geography",
        "Culture",
        "Facts",
        "History",
      ];
      var skillsScores = [10, 15, 20, 6, 3];

      // Generate placeholder data for the user chart
      var userLabels = ["Correct", "Close", "False", "Still open"];
      var userScores = [38, 12, 2, 10];

      // Create a pie chart for the user scores
      var userCtx = document.getElementById("userChart").getContext("2d");
      new Chart(userCtx, {
        type: "pie",
        data: {
          labels: userLabels,
          datasets: [
            {
              data: userScores,
              backgroundColor: [
                "#6ba428",
                "#fbd702",
                "#eb5e3e",
                "#b8b8ba"
              ],
              hoverBackgroundColor: [
                "#4f7729",
                "#fbca00",
                "#c95136",
                "#8c8b92"
              ],
            },
          ],
        },
      });

  var progressIcon = document.getElementById("progress-icon");

  // Function to update the progress bar and icon based on the progress
  function updateProgressBar(progress) {
    progressBar.style.width = progress + "%";
    progressIcon.style.left = progress + "%";
  }

  // Call the function initially
  updateProgressBar(25);

  // Call the function whenever the progress bar width changes
  progressBar.addEventListener("transitionend", function () {
    var progress = parseInt(progressBar.style.width);
    updateProgressBar(progress);
  });

    </script>
  </body>
</html>
